<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, viewport-fit=cover"
  />
  <meta name="theme-color" content="#001b41" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>MathMonsters</title>
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="apple-touch-icon" sizes="300x300" href="./images/brand/logo.png" />
  <link rel="stylesheet" href="css/global.css" />
  <link rel="stylesheet" href="css/question.css" />
  <link rel="stylesheet" href="css/battle.css" />
  <link rel="stylesheet" href="css/index.css" />
  <link rel="stylesheet" href="css/home.css" />
</head>
<body class="is-preloading">
  <button
    type="button"
    class="dev-overlay__trigger"
    data-dev-overlay-trigger
    aria-label="Toggle player data developer overlay"
    aria-controls="player-data-dev-overlay"
    aria-expanded="false"
    aria-haspopup="dialog"
  ></button>
  <div
    class="dev-overlay"
    id="player-data-dev-overlay"
    data-dev-overlay
    role="dialog"
    aria-modal="true"
    aria-labelledby="player-data-dev-overlay-title"
    aria-hidden="true"
    hidden
  >
    <div class="dev-overlay__backdrop" data-dev-overlay-backdrop></div>
    <div class="dev-overlay__dialog" data-dev-overlay-panel tabindex="-1">
      <header class="dev-overlay__header">
        <h2 class="dev-overlay__title" id="player-data-dev-overlay-title">
          Player Data
        </h2>
        <button
          type="button"
          class="dev-overlay__close"
          data-dev-overlay-close
          aria-label="Close player data overlay"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </header>
      <pre class="dev-overlay__body" data-dev-overlay-body>Loading player data…</pre>
      <div class="dev-overlay__controls" data-dev-overlay-controls>
        <div class="dev-overlay__field">
          <label for="dev-overlay-level-select">Set player level</label>
          <select
            id="dev-overlay-level-select"
            class="dev-overlay__select"
            data-dev-level-select
          >
            <option value="1">Level 1</option>
            <option value="2">Level 2</option>
            <option value="3">Level 3</option>
            <option value="4">Level 4</option>
            <option value="5">Level 5</option>
          </select>
        </div>
        <button
          type="button"
          class="dev-overlay__apply"
          data-dev-level-apply
        >
          Apply
        </button>
        <p
          class="dev-overlay__feedback"
          data-dev-level-feedback
          role="status"
          aria-live="polite"
        ></p>
      </div>
    </div>
  </div>
  <div
    class="preloader app-safe-area"
    data-preloader
    role="status"
    aria-live="polite"
  >
    <img
      class="preloader__logo"
      src="./images/brand/logo.png"
      alt="MathMonsters logo"
      width="200"
      height="200"
    />
    <p class="preloader__text text-large text-white">Loading</p>
    <div class="preloader__spinner" aria-hidden="true"></div>
  </div>
  <main class="landing">
    <div class="bubbles" aria-hidden="true">
      <span
        class="bubble"
        style="--size: 18px; --duration: 6.5s; --delay: -1.8s;"
      ></span>
      <span
        class="bubble"
        style="--size: 24px; --duration: 7.2s; --delay: -3.1s;"
      ></span>
      <span
        class="bubble"
        style="--size: 14px; --duration: 6s; --delay: -0.9s;"
      ></span>
      <span
        class="bubble"
        style="--size: 20px; --duration: 6.8s; --delay: -2.6s;"
      ></span>
      <span
        class="bubble"
        style="--size: 26px; --duration: 7.5s; --delay: -4.4s;"
      ></span>
      <span
        class="bubble"
        style="--size: 16px; --duration: 6.2s; --delay: -1.4s;"
      ></span>
      <span
        class="bubble"
        style="--size: 22px; --duration: 7s; --delay: -3.7s;"
      ></span>
      <span
        class="bubble"
        style="--size: 18px; --duration: 6.4s; --delay: -0.6s;"
      ></span>
    </div>

    <div data-level-one-landing>
      <section class="landing__hero-info" aria-live="polite">
        <p class="landing__hero-name text-large text-white" data-hero-name>
          Shellfin
        </p>
        <p class="landing__hero-level text-small text-white" data-hero-level>
          Level 1
        </p>
        <div
          class="progress landing__hero-progress"
          role="progressbar"
          aria-label="Level progress"
          aria-valuemin="0"
          aria-valuemax="100"
          aria-valuenow="0"
          aria-valuetext="0 of 0 experience"
          data-battle-progress
        >
          <div class="progress__fill" aria-hidden="true"></div>
        </div>
      </section>

      <img
        class="hero"
        src="./images/hero/shellfin_evolution_1.png"
        alt="Shellfin ready for battle"
        data-hero-sprite
      />

      <div class="landing__actions">
        <button class="landing__battle-button" type="button" data-battle-button>
          Battle
        </button>
      </div>

      <img
        class="monster"
        data-monster
        src="./images/monster/monster_sprite_1.png"
        alt="Monster ready for battle"
        width="300"
        height="300"
        aria-hidden="true"
      />
    </div>

    <div
      class="landing__standard home app-safe-area"
      data-standard-landing
      aria-live="polite"
    >
      <section class="home__content" aria-live="polite">
        <div class="home__identity">
          <p class="home__hero-name" data-hero-name>Shellfin</p>
          <p class="home__hero-level" data-hero-level>Level 1</p>
        </div>
        <img
          class="home__hero-sprite"
          src="./images/hero/shellfin_evolution_1.png"
          alt="Shellfin ready for battle"
          data-hero-sprite
        />
        <div class="home__actions">
          <button
            class="home__action home__action--portal"
            type="button"
            data-battle-trigger
            aria-label="Enter the next battle"
          >
            <img
              class="home__action-image"
              src="./images/brand/logo.png"
              alt="MathMonsters logo leading to the next battle"
              width="160"
              height="160"
            />
          </button>
        </div>
      </section>
    </div>

  </main>
  <section
    class="battle-screen"
    data-battle-section
    hidden
    aria-hidden="true"
    aria-label="MathMonsters battle"
  >
    <div class="battle-screen__dev-buttons">
      <button
        type="button"
        id="dev-hero-damage-button"
        class="dev-button dev-button--top-left"
        aria-label="Deal 100 damage to the hero"
      ></button>
      <button
        type="button"
        id="dev-monster-damage-button"
        class="dev-button dev-button--top-right"
        aria-label="Deal 100 damage to the monster"
      ></button>
      <button
        type="button"
        id="dev-skip-battle-button"
        class="dev-button dev-button--bottom-left"
        aria-label="Skip to Battle 4 of the current level"
      ></button>
    </div>
    <section
      class="card medal"
      data-medal
      hidden
      aria-hidden="true"
      role="status"
      aria-live="polite"
    >
      <div class="medal__content">
        <span class="medal__pill">Medal</span>
        <p class="medal__title text-medium text-dark">Math Explorer</p>
        <p class="medal__description text-small">
          First correct answer
        </p>
      </div>
      <img
        class="medal__sprite"
        src="./images/complete/gem.png"
        alt="Gem reward"
        decoding="async"
      />
    </section>
    <div id="battle">
      <img
        id="battle-monster"
        src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="
        alt="Monster ready for battle"
      />
      <img
        id="battle-shellfin"
        src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="
        alt="Hero ready for battle"
      />
      <img
        id="monster-attack-effect"
        class="attack-effect"
        src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="
        alt=""
        aria-hidden="true"
        decoding="async"
      />
      <img
        id="hero-attack-effect"
        class="attack-effect"
        src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="
        alt=""
        aria-hidden="true"
        decoding="async"
      />
      <div id="monster-stats" class="stat-box">
        <div class="name text-small text-white"></div>
        <div
          class="progress progress--orange battle-health"
          role="progressbar"
          aria-valuemin="0"
          aria-valuemax="100"
          aria-valuenow="100"
          aria-label="Monster health"
          style="--progress-value: 1"
        >
          <span class="progress__fill" aria-hidden="true"></span>
        </div>
      </div>
      <div id="shellfin-stats" class="stat-box">
        <div class="name text-small text-white"></div>
        <div
          class="progress progress--orange battle-health"
          role="progressbar"
          aria-valuemin="0"
          aria-valuemax="100"
          aria-valuenow="100"
          aria-label="Hero health"
          style="--progress-value: 1"
        >
          <span class="progress__fill" aria-hidden="true"></span>
        </div>
      </div>
    </div>
    <div id="question">
      <div class="question__content">
        <section class="card card--question">
          <p class="title question-text text-large text-dark"></p>
          <div class="question-sprites" data-question-sprites hidden></div>
          <div class="choices"></div>
          <div class="meter" data-meter aria-hidden="true">
            <img
              class="meter__icon"
              src="./images/complete/gem.png"
              data-meter-icon
              alt=""
              aria-hidden="true"
            />
            <p class="meter__heading text-small text-dark" data-meter-heading></p>
            <div
              class="progress meter__progress"
              data-meter-progress
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="0"
              aria-valuenow="0"
              aria-valuetext="0 of 0"
            >
              <span class="progress__fill" aria-hidden="true"></span>
            </div>
          </div>
          <button type="button" disabled aria-disabled="true">Submit</button>
        </section>
      </div>
    </div>
    <div
      id="complete-message"
      role="dialog"
      aria-modal="true"
      aria-labelledby="battle-complete-title"
      aria-hidden="true"
      tabindex="-1"
    >
      <section class="card card--home card--pop battle-complete-card">
        <h2 id="battle-complete-title" class="battle-complete-card__title battle-title">
          Monster Defeated!
        </h2>
        <div class="battle-complete-card__sprite-surface" data-battle-complete-sprite-surface>
          <div class="battle-complete-card__sprite-frame">
            <img
              class="monster-image battle-complete-card__monster"
              src="./images/complete/chest.png"
              alt="Treasure chest reward"
              width="120"
              height="120"
              data-static-sprite="true"
              data-static-alt="Treasure chest reward"
            />
          </div>
          <div class="battle-complete-card__reward-group">
            <p
              class="battle-complete-card__reward-heading text-small text-dark"
              data-global-progress-heading
            >
              Reward Meter
            </p>
            <p
              class="battle-complete-card__reward-progress text-small text-dark battle-complete-card__reward-progress--dim"
              data-global-progress-count
            >
              0/5
            </p>
          </div>
          <div
            class="battle-complete-card__progress"
            data-global-progress
            hidden
            aria-hidden="true"
          >
            <div
              class="progress battle-complete-card__progress-bar"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="5"
              aria-valuenow="0"
              aria-label="Wins until next reward"
            >
              <span
                class="progress__fill"
                data-global-progress-fill
                style="--progress-value: 0"
              ></span>
            </div>
          </div>
        </div>
        <button type="button" class="btn-primary next-mission-btn" data-action="next">Back Home</button>
      </section>
    </div>
    <div class="reward-overlay" data-reward-overlay aria-hidden="true">
      <img
        class="reward-overlay__image"
        src="./images/complete/gem.png"
        alt="Gem level-up reward"
        data-reward-sprite
      />
      <section
        class="card card--home reward-overlay__card"
        data-reward-card
        aria-hidden="true"
        hidden
      >
        <img
          class="reward-overlay__card-avatar"
          src="./images/intro/doctor.png"
          alt="Dr. Wave"
          width="80"
          height="80"
          data-reward-card-avatar
        />
        <p class="reward-overlay__card-text text-medium text-dark">
          Cool monster gem. My research says it might make your hero evolve!
        </p>
        <button
          type="button"
          class="btn-primary reward-overlay__card-button"
          data-reward-card-button
        >
          Next
        </button>
      </section>
      <button
        type="button"
        class="reward-overlay__dev-skip"
        data-reward-dev-skip
        aria-hidden="true"
        tabindex="-1"
      >
        Skip reward
      </button>
    </div>
    <div class="evolution-overlay" data-evolution-overlay aria-hidden="true">
      <img
        class="evolution-overlay__sprite evolution-overlay__sprite--current"
        src="./images/hero/shellfin_evolution_1.png"
        alt="Shellfin begins to evolve"
        data-evolution-current
      />
      <img
        class="evolution-overlay__sprite evolution-overlay__sprite--next"
        src="./images/hero/shellfin_evolution_2.png"
        alt="Shellfin evolved"
        data-evolution-next
      />
    </div>
    <div
      class="post-evolution-overlay"
      data-evolution-complete-overlay
      aria-hidden="true"
    >
      <div class="post-evolution-overlay__content">
        <img
          class="post-evolution-overlay__sprite"
          src="./images/hero/shellfin_evolution_2.png"
          alt="Shellfin evolved"
          data-evolution-complete-sprite
        />
        <section
          class="card card--home card--pop reward-overlay__card post-evolution-overlay__card"
        >
          <img
            class="reward-overlay__card-avatar post-evolution-overlay__card-avatar"
            src="./images/intro/doctor.png"
            alt="Dr. Wave"
            width="80"
            height="80"
          />
          <p class="reward-overlay__card-text post-evolution-overlay__card-text text-medium text-dark">
            Your creature just evolved! It’s stronger now and ready for new adventures!
          </p>
          <button
            type="button"
            class="btn-primary reward-overlay__card-button post-evolution-overlay__card-button"
            data-evolution-complete-button
          >
            Let’s Go!
          </button>
        </section>
      </div>
    </div>
    <div id="battle-message">
      <div class="content">
        <p></p>
        <button type="button" class="btn-primary">Try Again</button>
      </div>
    </div>
  </section>
  <div class="level-one-intro" data-level-one-intro aria-hidden="true">
    <button
      class="level-one-intro__egg-button"
      type="button"
      data-level-one-egg-button
      aria-label="Inspect the mysterious egg"
      disabled
    >
      <img
        class="level-one-intro__egg-image"
        src="./images/intro/egg.png"
        alt="Mysterious egg"
        width="250"
        height="250"
        data-level-one-egg-image
      />
    </button>

    <div
      class="card card--home level-one-intro__card"
      data-level-one-card="welcome"
      aria-hidden="true"
    >
      <img
        class="level-one-intro__card-avatar"
        src="./images/intro/doctor.png"
        alt="Dr. Wave"
        width="80"
        height="80"
      />
      <p class="level-one-intro__card-text">
        Hi! I’m Dr. Wave. I study math monsters. I think this egg is about to hatch!
      </p>
      <button
        class="btn-primary"
        type="button"
        data-level-one-card-continue
      >
        Next
      </button>
    </div>

    <div
      class="card card--home level-one-intro__card"
      data-level-one-card="battle"
      aria-hidden="true"
    >
      <img
        class="level-one-intro__card-avatar"
        src="./images/intro/doctor.png"
        alt="Dr. Wave"
        width="80"
        height="80"
      />
      <p class="level-one-intro__card-text">
        Whoa! This isn’t a monster — it’s a math hero. Use your math power to help him in battle!
      </p>
      <button
        class="btn-primary"
        type="button"
        data-level-one-card-battle
      >
        Battle
      </button>
    </div>
  </div>
  <button
    type="button"
    class="dev-signout-button"
    data-dev-signout
    aria-label="Sign out"
  ></button>
  <script>
    window.SUPABASE_URL = 'https://jxlxpumcoihfapmrsaqd.supabase.co';
    window.SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp4bHhwdW1jb2loZmFwbXJzYXFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MjE3MDcsImV4cCI6MjA3Mjk5NzcwN30.PJiDPZ_Dqli_42isJexeYgsf0ebWbCSOwHtR7lsQTN0';
  </script>
  <script src="js/pwa.js" defer data-pwa-root="."></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
  <script src="js/supabaseClient.js" defer></script>
  <script src="js/utils/questionGenerator.js" defer></script>
  <script src="js/utils/progress.js" defer></script>
  <script src="js/utils/saveState.js" defer></script>
  <script src="js/utils/playerProfile.js" defer></script>
  <script src="js/loader.js" defer></script>
  <script src="js/question.js" defer></script>
  <script src="js/battle.js" defer></script>
  <script src="js/index.js" defer></script>
</body>
</html>
